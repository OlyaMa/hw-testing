{"version":3,"file":"main.js","mappings":"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","sources":["webpack://hw-testing/webpack/bootstrap","webpack://hw-testing/webpack/runtime/publicPath","webpack://hw-testing/./src/js/CheckCard.js","webpack://hw-testing/./src/js/DOMEvents.js","webpack://hw-testing/./src/js/app.js","webpack://hw-testing/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.p = \"\";","export class CheckCard {\n  #cardTypes = {\n    mir: {\n      numbers: Array.from({ length: 2204 - 2200 }, (_, i) => i + 2200),\n      length: [16, 17, 18, 19],\n    },\n    amex: { numbers: [34, 37], length: [15] },\n    visa: { numbers: [4], length: [13, 16, 19] },\n    master: {\n      numbers: [\n        51,\n        52,\n        53,\n        54,\n        55,\n        ...Array.from({ length: 2720 - 2221 }, (_, i) => i + 2221),\n      ],\n      length: [16],\n    },\n    unionPay: { numbers: [62], length: [16, 17, 18, 19] },\n    jcb: {\n      numbers: Array.from({ length: 3589 - 3527 }, (_, i) => i + 3527),\n      length: [16, 17, 18, 19],\n    },\n    dinersClub: { numbers: [36, 5501, 5558], length: [14, 15, 16, 17, 18, 19] },\n    maestro: {\n      numbers: [\n        6759, 676770, 676774, 5018, 5020, 5038, 5893, 6304, 6759, 6761, 6762,\n        6763,\n      ],\n      length: [12, 13, 14, 15, 16, 17, 18, 19],\n    },\n    discover: {\n      numbers: [6011, 644, 645, 646, 647, 648, 649, 65],\n      length: [16, 17, 18, 19],\n    },\n  };\n\n  #cardType = null;\n\n  luhnAlgorithm(cardNumber) {\n    let ch = 0;\n    const isOdd = cardNumber.length % 2 !== 0;\n\n    for (let i = 0; i < cardNumber.length; i++) {\n      let n = parseInt(cardNumber[i], 10);\n\n      ch += (isOdd | 0) === i % 2 && 9 < (n *= 2) ? n - 9 : n;\n    }\n\n    return 0 === ch % 10;\n  }\n\n  getCardType(cardNumber) {\n    const possibleCardSystems = [];\n\n    for (const cardSystem in this.#cardTypes) {\n      if (\n        this.#cardTypes[cardSystem].numbers.some((cardIIN) => {\n          return cardNumber.startsWith(cardIIN.toString());\n        })\n      ) {\n        possibleCardSystems.push(cardSystem);\n        break;\n      }\n    }\n    if (possibleCardSystems.length) {\n      this.#cardType = possibleCardSystems[0];\n    }\n    return possibleCardSystems.length === 1 ? possibleCardSystems[0] : null;\n  }\n\n  checkCardLength(number) {\n    if (this.#cardType) {\n      for (const cardTypeLength of this.#cardTypes[this.#cardType].length) {\n        if (cardTypeLength === number.length) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n}\n","import { CheckCard } from \"./CheckCard.js\";\n\nexport class DOMEvents {\n  constructor() {\n    this.form = document.querySelector(\".form-inline\");\n    this.cards = document.querySelector(\".cards\");\n    this.input = document.querySelector(\"#card_number\");\n    this.submit = document.querySelector(\"#submitform\");\n    this.res = document.querySelector(\".result\");\n    this.checkCard = new CheckCard();\n  }\n\n  eventLuhnAlgorithm() {\n    const handler = async (event) => {\n      event.preventDefault();\n      if (this.form.checkValidity() && this.input.value.trim()) {\n        const cardNumber = document.getElementById(\"card_number\").value;\n        let resultLuhn;\n        let resultLength;\n        await Promise.all([\n          this.checkCard.luhnAlgorithm(cardNumber),\n          this.checkCard.checkCardLength(cardNumber),\n        ]).then((values) => ([resultLuhn, resultLength] = values));\n\n        if (resultLuhn && resultLength) {\n          this.res.innerHTML = `The card number ${cardNumber} is valid<br>\n                                  Luhn algorythm is ${resultLuhn}<br>\n                                  The length of the number for this card type is ${resultLength}`;\n        } else {\n          this.res.innerHTML = `The card number ${cardNumber} is invalid<br>\n                                  Luhn algorythm is undefined<br>\n                                  The length of the number for this card type is undefined`;\n        }\n      }\n    };\n\n    this.form.addEventListener(\"submit\", handler);\n  }\n\n  eventPaymentSystemCheck() {\n    this.input.addEventListener(\"input\", (event) => {\n      event.preventDefault();\n      if (!this.input.value.trim()) {\n        this.res.textContent = \"\";\n      }\n      setTimeout(() => {\n        const result = this.checkCard.getCardType(this.input.value);\n        Array.from(this.cards.querySelectorAll(\".card\")).forEach((card) =>\n          card.classList.remove(\"opacity\"),\n        );\n        if (this.input.value.trim() && result) {\n          Array.from(this.cards.querySelectorAll(\".card\")).forEach((card) =>\n            card.classList.add(\"opacity\"),\n          );\n          const card = this.cards.querySelector(`.${result}`);\n          if (card) {\n            card.classList.remove(\"opacity\");\n          }\n        }\n      }, 700);\n    });\n  }\n}\n","import { DOMEvents } from \"./DOMEvents.js\";\n\nfunction app() {\n  const evenTracker = new DOMEvents();\n  evenTracker.eventLuhnAlgorithm();\n  evenTracker.eventPaymentSystemCheck();\n}\n\napp();\n","import \"./css/style.css\";\nimport \"./img/mir.jpg\";\nimport \"./img/pepsized-americanexpress01.png\";\nimport \"./img/pepsized-dinersclub02.png\";\nimport \"./img/pepsized-discover.png\";\nimport \"./img/pepsized-jcb.png\";\nimport \"./img/pepsized-maestro.png\";\nimport \"./img/pepsized-mastercard.png\";\nimport \"./img/pepsized-visa.png\";\nimport \"./img/unionpay.png\";\nimport \"./js/app.js\";\n"],"names":["CheckCard","cardTypes","mir","numbers","Array","from","length","_","i","amex","visa","master","unionPay","jcb","dinersClub","maestro","discover","cardType","luhnAlgorithm","cardNumber","ch","isOdd","n","parseInt","getCardType","possibleCardSystems","cardSystem","some","cardIIN","startsWith","toString","push","checkCardLength","number","cardTypeLength","DOMEvents","constructor","form","document","querySelector","cards","input","submit","res","checkCard","eventLuhnAlgorithm","handler","event","preventDefault","checkValidity","value","trim","getElementById","resultLuhn","resultLength","Promise","all","then","values","innerHTML","addEventListener","eventPaymentSystemCheck","textContent","setTimeout","result","querySelectorAll","forEach","card","classList","remove","add","app","evenTracker"],"sourceRoot":""}